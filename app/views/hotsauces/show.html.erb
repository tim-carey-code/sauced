<%= content_for :title do %>
  <%= @hotsauce.name %>
<% end %>
<div class="flex text-center h-screen text-white flex-column justify-center items-center">
  <%= render CardComponent.new(container_classes: "mb-24 bg-peppers") do %>
    <% if @hotsauce.sauce_bottle_image.attached? %>
      <%= image_tag @hotsauce.sauce_bottle_image.variant(:medium), class: "card-img-top" %>
    <% end %>
    <h5 class="card-title fs-1"><%= @hotsauce.name %></h5>
    <div>
      <span class="badge bg-primary"><%= @hotsauce.category %></span>
    </div>
    <small style="color: lime;"  class="text-center"><%= @hotsauce.description %></small>
    <p>
      Average Rating: <strong><%= @hotsauce.rating %></strong>
    </p>
    <% if @hotsauce.has_rating? %>
      <p>
        <sl-rating readonly label="Rating" precision="0.25" value="<%= @hotsauce.rating %>"></sl-rating>
      </p>
    <% else %>
      <p>
        <%= "No stars..." %>
      </p>
    <% end %>
    <hr>
    <div class="d-grid gap-2">
      <%= link_to "Check In", new_checkin_path(@hotsauce), class: "btn btn-success" %>
      <% if is_favorited?(user: current_user, hotsauce: @hotsauce) %>
        <%= link_to "Remove from favorites", favorite_path(favorite_for(user: current_user, hotsauce: @hotsauce)), class: "btn btn-warning", data: { turbo_method: :delete } %>
      <% else %>
        <%= link_to "Add to favorites", favorites_path(hotsauce_id: @hotsauce.id), class: "btn btn-success", data: { turbo_method: :post } %>
      <% end %>
      <%= link_to "Edit this hotsauce", edit_hotsauce_path(@hotsauce), class: "btn btn-primary" %>
      <%= link_to "Delete this hotsauce", "#", data: { bs_toggle: "modal", bs_target: "##{dom_id(@hotsauce)}" }, class: "btn btn-error hover:bg-[#9e2b3a]" %>
      <%= render ModalComponent.new(modal_title: "Are you sure you want to delete this hotsauce?", modal_body: "Once you delete this hotsauce it will be gone forever!", primary_button_name: "Delete this hotsauce", btn_style: "danger", resource: @hotsauce, btn_method: "delete") %>
    </div>
  <% end %>
</div>
